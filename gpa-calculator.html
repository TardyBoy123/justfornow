<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UWO GPA Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Add some margin to the top -->
    <div style="margin-top: 20px;">
        <button class="btn" onclick="window.location.href='index.html'">Home</button>
    </div>

    <h1>UWO GPA Calculator</h1>
    <p>Enter the courses, grades, and weights to calculate your GPA.</p>

    <div id="gpaCalculator">
        <table>
            <thead>
                <tr>
                    <th>Course</th>
                    <th>Grade (%)</th>
                    <th>Weight (0.5 or 1.0)</th>
                </tr>
            </thead>
            <tbody id="courseTable">
                <tr>
                    <td><input type="text" placeholder="Course"></td>
                    <td><input type="number" placeholder="Grade (%)"></td>
                    <td>
                        <select>
                            <option value="1.0">1.0</option>
                            <option value="0.5">0.5</option>
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>
        <button class="btn" id="addRow">Add row</button>
        <button class="btn" id="computeGPA">Compute GPA</button>
    </div>

    <div id="audio-controls">
        <audio controls autoplay loop>
            <source src="Imogen Heap - Just For Now (Official Audio).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <p>Now playing - Imogen Heap - Just For Now</p>
        <button class="btn" onclick="document.getElementById('audio').play()">Play</button>
        <button class="btn" onclick="document.getElementById('audio').pause()">Pause</button>
    </div>

    <script>
        document.getElementById('addRow').addEventListener('click', function () {
            var table = document.getElementById('courseTable');
            var row = table.insertRow();
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);

            cell1.innerHTML = '<input type="text" placeholder="Course">';
            cell2.innerHTML = '<input type="number" placeholder="Grade (%)">';
            cell3.innerHTML = '<select><option value="1.0">1.0</option><option value="0.5">0.5</option></select>';
        });

        document.getElementById('computeGPA').addEventListener('click', function () {
            var table = document.getElementById('courseTable');
            var rows = table.getElementsByTagName('tr');
            var totalPoints = 0;
            var totalWeight = 0;

            for (var i = 0; i < rows.length; i++) {
                var grade = parseFloat(rows[i].cells[1].getElementsByTagName('input')[0].value);
                var weight = parseFloat(rows[i].cells[2].getElementsByTagName('select')[0].value);

                var gpa;
                if (grade >= 90) {
                    gpa = 4.0;
                } else if (grade >= 85) {
                    gpa = 3.9;
                } else if (grade >= 80) {
                    gpa = 3.7;
                } else if (grade >= 77) {
                    gpa = 3.3;
                } else if (grade >= 73) {
                    gpa = 3.0;
                } else if (grade >= 70) {
                    gpa = 2.7;
                } else if (grade >= 67) {
                    gpa = 2.3;
                } else if (grade >= 63) {
                    gpa = 2.0;
                } else if (grade >= 60) {
                    gpa = 1.7;
                } else if (grade >= 57) {
                    gpa = 1.3;
                } else if (grade >= 53) {
                    gpa = 1.0;
                } else if (grade >= 50) {
                    gpa = 0.7;
                } else {
                    gpa = 0.0;
                }

                totalPoints += gpa * weight;
                totalWeight += weight;
            }

            var finalGPA = totalPoints / totalWeight;
            alert("Your GPA is: " + finalGPA.toFixed(2));
        });
    </script>
</body>
</html>
